{"mappings":"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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["/* eslint-disable no-shadow */ \"use strict\";\nvar cellsAll = document.querySelectorAll(\".game-field .field-cell\");\nvar gameScore = 0;\nvar gameScoreDisplay = document.querySelector(\".game-score\");\nvar gameOver = false;\nvar applyCellStyles = function(cell) {\n    var value = cell.textContent;\n    cell.className = \"field-cell\";\n    if (value) cell.classList.add(\"field-cell--\".concat(value));\n};\nvar randomizer = function() {\n    var emptyCells = fillEmptyCell();\n    if (emptyCells.length === 0) return;\n    var randomIndex = Math.floor(Math.random() * emptyCells.length);\n    var randomCell = emptyCells[randomIndex];\n    var random = Math.random();\n    if (random < 0.9) {\n        randomCell.textContent = \"2\";\n        randomCell.classList.add(\"field-cell--2\");\n    } else {\n        randomCell.textContent = \"4\";\n        randomCell.classList.add(\"field-cell--4\");\n    }\n    randomCell.classList.add(\"animate\");\n    setTimeout(function() {\n        randomCell.classList.remove(\"animate\");\n    }, 200);\n};\nvar fillEmptyCell = function() {\n    return Array.from(cellsAll).filter(function(cell) {\n        return !cell.textContent.trim();\n    });\n};\nvar slideAndMerge = function(row) {\n    // Filter out empty values, shift values to left, and pad with empty strings\n    var result = row.filter(function(val) {\n        return val !== \"\";\n    }).concat(Array(4 - row.length).fill(\"\"));\n    for(var i = 0; i < result.length - 1; i++)if (result[i] !== \"\" && result[i] === result[i + 1]) {\n        result[i] = (parseInt(result[i]) * 2).toString();\n        result[i + 1] = \"\";\n        gameScore += parseInt(result[i]);\n        gameScoreDisplay.textContent = gameScore;\n        i++;\n    }\n    // Filter again and add empty strings to the end for completed row\n    return result.filter(function(val) {\n        return val !== \"\";\n    }).concat(Array(4 - result.filter(function(val) {\n        return val !== \"\";\n    }).length).fill(\"\"));\n};\n// Move the cells in a specified direction and merge them\nvar moveCells = function(direction) {\n    var cellsFilled = Array.from(cellsAll).map(function(cell) {\n        return cell.textContent.trim();\n    });\n    var moved = false;\n    var updateCells = function(startIndex, increment) {\n        var reverse = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        var row = [];\n        for(var i = 0; i < 4; i++)row.push(cellsFilled[startIndex + i * increment]);\n        if (reverse) row = row.reverse();\n        var movedRow = slideAndMerge(row);\n        if (reverse) movedRow.reverse();\n        // Update the original array with the moved row\n        for(var i1 = 0; i1 < 4; i1++){\n            if (cellsFilled[startIndex + i1 * increment] !== movedRow[i1]) moved = true;\n            cellsFilled[startIndex + i1 * increment] = movedRow[i1];\n        }\n    };\n    if (direction === \"left\" || direction === \"right\") for(var i = 0; i < 4; i++){\n        var startIndex = i * 4;\n        updateCells(startIndex, 1, direction === \"right\");\n    }\n    else if (direction === \"up\" || direction === \"down\") for(var i1 = 0; i1 < 4; i1++)updateCells(i1, 4, direction === \"down\");\n    // Update cells with new values\n    cellsAll.forEach(function(cell, idx) {\n        cell.textContent = cellsFilled[idx] || \"\";\n        applyCellStyles(cell);\n        if (cell.textContent === \"2048\") document.querySelector(\".message-win\").classList.remove(\"hidden\");\n    });\n    if (moved) randomizer();\n};\nvar checkGameOver = function() {\n    if (fillEmptyCell().length > 0) return false;\n    for(var i = 0; i < 4; i++)for(var j = 0; j < 3; j++){\n        if (cellsAll[i * 4 + j].textContent === cellsAll[i * 4 + j + 1].textContent) return false;\n        if (cellsAll[j * 4 + i].textContent === cellsAll[(j + 1) * 4 + i].textContent) return false;\n    }\n    return true;\n};\nvar resetGame = function() {\n    cellsAll.forEach(function(cell) {\n        cell.textContent = \"\";\n        cell.className = \"field-cell\";\n    });\n    gameScore = 0;\n    gameScoreDisplay.textContent = gameScore;\n    gameOver = false;\n    randomizer();\n    randomizer();\n    var button = document.querySelector(\"button\");\n    button.textContent = \"Restart\";\n    button.classList.remove(\"start\");\n    button.classList.add(\"restart\");\n    document.querySelector(\".message-start\").classList.add(\"hidden\");\n    document.querySelector(\".message-lose\").classList.add(\"hidden\");\n    document.querySelector(\".message-win\").classList.add(\"hidden\");\n};\n// eslint-disable-next-line no-shadow\ndocument.addEventListener(\"keydown\", function(event) {\n    if (gameOver) return;\n    if (event.key === \"ArrowRight\") moveCells(\"right\");\n    else if (event.key === \"ArrowLeft\") moveCells(\"left\");\n    else if (event.key === \"ArrowUp\") moveCells(\"up\");\n    else if (event.key === \"ArrowDown\") moveCells(\"down\");\n    if (checkGameOver()) {\n        gameOver = true;\n        document.querySelector(\".message-lose\").classList.remove(\"hidden\");\n    }\n});\ndocument.querySelector(\".start\").addEventListener(\"click\", resetGame);\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    var startX = 0;\n    var startY = 0;\n    var element = document.querySelector(\".game-field\");\n    element.addEventListener(\"touchstart\", function(event) {\n        event.preventDefault();\n        var touch = event.touches[0];\n        startX = touch.clientX;\n        startY = touch.clientY;\n    });\n    element.addEventListener(\"touchmove\", function(event) {\n        var touch = event.touches[0];\n        var deltaX = touch.clientX - startX;\n        var deltaY = touch.clientY - startY;\n        // Prevent default behavior for downward swipe\n        if (deltaY > 0 && Math.abs(deltaY) > Math.abs(deltaX)) event.preventDefault();\n    });\n    element.addEventListener(\"touchend\", function(event) {\n        var touch = event.changedTouches[0];\n        var endX = touch.clientX;\n        var endY = touch.clientY;\n        var deltaX = endX - startX;\n        var deltaY = endY - startY;\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\n            if (Math.abs(deltaX) > 20) {\n                if (deltaX > 0) moveCells(\"right\");\n                else moveCells(\"left\");\n            }\n        } else if (Math.abs(deltaY) > 20) {\n            if (deltaY > 0) moveCells(\"down\");\n            else moveCells(\"up\");\n        }\n    });\n});\n\n//# sourceMappingURL=index.77e0e177.js.map\n","/* eslint-disable no-shadow */\n'use strict';\n\nconst cellsAll = document.querySelectorAll('.game-field .field-cell');\n\nlet gameScore = 0;\nconst gameScoreDisplay = document.querySelector('.game-score');\nlet gameOver = false;\n\nconst applyCellStyles = (cell) => {\n  const value = cell.textContent;\n\n  cell.className = 'field-cell';\n\n  if (value) {\n    cell.classList.add(`field-cell--${value}`);\n  }\n};\n\nconst randomizer = () => {\n  const emptyCells = fillEmptyCell();\n\n  if (emptyCells.length === 0) {\n    return;\n  };\n\n  const randomIndex = Math.floor(Math.random() * emptyCells.length);\n  const randomCell = emptyCells[randomIndex];\n  const random = Math.random();\n\n  if (random < 0.9) {\n    randomCell.textContent = '2';\n    randomCell.classList.add(`field-cell--2`);\n  } else {\n    randomCell.textContent = '4';\n    randomCell.classList.add(`field-cell--4`);\n  }\n\n  randomCell.classList.add(`animate`);\n\n  setTimeout(() => {\n    randomCell.classList.remove('animate');\n  }, 200);\n};\n\nconst fillEmptyCell = () =>\n  Array.from(cellsAll).filter(cell => !cell.textContent.trim());\n\nconst slideAndMerge = (row) => {\n  // Filter out empty values, shift values to left, and pad with empty strings\n  const result\n    = row.filter(val => val !== '').concat(Array(4 - row.length).fill(''));\n\n  for (let i = 0; i < result.length - 1; i++) {\n    if (result[i] !== '' && result[i] === result[i + 1]) {\n      result[i] = (parseInt(result[i]) * 2).toString();\n      result[i + 1] = '';\n      gameScore += parseInt(result[i]);\n      gameScoreDisplay.textContent = gameScore;\n      i++;\n    }\n  }\n\n  // Filter again and add empty strings to the end for completed row\n  return result.filter(val => val !== '')\n    .concat(Array(4 - result.filter(val => val !== '').length).fill(''));\n};\n\n// Move the cells in a specified direction and merge them\nconst moveCells = (direction) => {\n  const cellsFilled = Array.from(cellsAll).map(cell => cell.textContent.trim());\n  let moved = false;\n\n  const updateCells = (startIndex, increment, reverse = false) => {\n    let row = [];\n\n    for (let i = 0; i < 4; i++) {\n      row.push(cellsFilled[startIndex + i * increment]);\n    };\n\n    if (reverse) {\n      row = row.reverse();\n    };\n\n    const movedRow = slideAndMerge(row);\n\n    if (reverse) {\n      movedRow.reverse();\n    };\n\n    // Update the original array with the moved row\n    for (let i = 0; i < 4; i++) {\n      if (cellsFilled[startIndex + i * increment] !== movedRow[i]) {\n        moved = true;\n      };\n      cellsFilled[startIndex + i * increment] = movedRow[i];\n    }\n  };\n\n  if (direction === 'left' || direction === 'right') {\n    for (let i = 0; i < 4; i++) {\n      const startIndex = i * 4;\n\n      updateCells(startIndex, 1, direction === 'right');\n    }\n  } else if (direction === 'up' || direction === 'down') {\n    for (let i = 0; i < 4; i++) {\n      updateCells(i, 4, direction === 'down');\n    }\n  }\n\n  // Update cells with new values\n  cellsAll.forEach((cell, idx) => {\n    cell.textContent = cellsFilled[idx] || '';\n    applyCellStyles(cell);\n\n    if (cell.textContent === '2048') {\n      document.querySelector('.message-win').classList.remove('hidden');\n    }\n  });\n\n  if (moved) {\n    randomizer();\n  };\n};\n\nconst checkGameOver = () => {\n  if (fillEmptyCell().length > 0) {\n    return false;\n  };\n\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 3; j++) {\n      if (cellsAll[i * 4 + j]\n        .textContent === cellsAll[i * 4 + j + 1].textContent) {\n        return false;\n      };\n\n      if (cellsAll[j * 4 + i]\n        .textContent === cellsAll[(j + 1) * 4 + i].textContent) {\n        return false;\n      };\n    }\n  }\n\n  return true;\n};\n\nconst resetGame = () => {\n  cellsAll.forEach(cell => {\n    cell.textContent = '';\n    cell.className = 'field-cell';\n  });\n  gameScore = 0;\n  gameScoreDisplay.textContent = gameScore;\n  gameOver = false;\n  randomizer();\n  randomizer();\n\n  const button = document.querySelector('button');\n\n  button.textContent = 'Restart';\n  button.classList.remove('start');\n  button.classList.add('restart');\n\n  document.querySelector('.message-start').classList.add('hidden');\n  document.querySelector('.message-lose').classList.add('hidden');\n  document.querySelector('.message-win').classList.add('hidden');\n};\n\n// eslint-disable-next-line no-shadow\ndocument.addEventListener('keydown', (event) => {\n  if (gameOver) {\n    return;\n  };\n\n  if (event.key === 'ArrowRight') {\n    moveCells('right');\n  } else if (event.key === 'ArrowLeft') {\n    moveCells('left');\n  } else if (event.key === 'ArrowUp') {\n    moveCells('up');\n  } else if (event.key === 'ArrowDown') {\n    moveCells('down');\n  }\n\n  if (checkGameOver()) {\n    gameOver = true;\n    document.querySelector('.message-lose').classList.remove('hidden');\n  }\n});\n\ndocument.querySelector('.start').addEventListener('click', resetGame);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let startX = 0;\n  let startY = 0;\n\n  const element = document.querySelector('.game-field');\n\n  element.addEventListener('touchstart', (event) => {\n    event.preventDefault();\n\n    const touch = event.touches[0];\n\n    startX = touch.clientX;\n    startY = touch.clientY;\n  });\n\n  element.addEventListener('touchmove', (event) => {\n    const touch = event.touches[0];\n    const deltaX = touch.clientX - startX;\n    const deltaY = touch.clientY - startY;\n\n    // Prevent default behavior for downward swipe\n    if (deltaY > 0 && Math.abs(deltaY) > Math.abs(deltaX)) {\n      event.preventDefault();\n    }\n  });\n\n  element.addEventListener('touchend', (event) => {\n    const touch = event.changedTouches[0];\n    const endX = touch.clientX;\n    const endY = touch.clientY;\n\n    const deltaX = endX - startX;\n    const deltaY = endY - startY;\n\n    if (Math.abs(deltaX) > Math.abs(deltaY)) {\n      if (Math.abs(deltaX) > 20) {\n        if (deltaX > 0) {\n          moveCells('right');\n        } else {\n          moveCells('left');\n        }\n      }\n    } else {\n      if (Math.abs(deltaY) > 20) {\n        if (deltaY > 0) {\n          moveCells('down');\n        } else {\n          moveCells('up');\n        }\n      }\n    }\n  });\n});\n"],"names":["cellsAll","document","querySelectorAll","gameScore","gameScoreDisplay","querySelector","gameOver","applyCellStyles","cell","value","textContent","className","classList","add","concat","randomizer","emptyCells","fillEmptyCell","length","randomIndex","Math","floor","random","randomCell","setTimeout","remove","Array","from","filter","trim","slideAndMerge","row","result","val","fill","i","parseInt","toString","moveCells","direction","cellsFilled","map","moved","updateCells","startIndex","increment","reverse","arguments","push","movedRow","i1","forEach","idx","checkGameOver","j","addEventListener","event","key","button","startX","startY","element","preventDefault","touch","touches","clientX","clientY","deltaX","deltaY","abs","changedTouches","endX","endY"],"version":3,"file":"index.77e0e177.js.map"}